<html>
    <head>
        <meta charset="utf-8">
        <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
        <!-- 通过标签方式直接引用构建好的echarts文件 -->
        <script src='js/echarts.min.js'></script>
        <script src='js/echarts-wordcloud.js'></script>
    </head>
    <body>
        <style>
            html, body,#main{
                width: 100%;
                height: 100%;
                margin: 0;
            }
        </style>
        <!-- 定义一个具备宽高的DOM容器，用来装词云 -->
        <div id='main'></div>
        <script type="text/javascript">
            console.log('进入js代码');
            // 基于指定好的DOM，通过echarts.init方法初始化一个echarts实例
            var chart = echarts.init(document.getElementById('main'));
            console.log(chart);
            // 指定词云图的配置项和数据
            var option = {
                // 给词云图添加一个标题，但是我不晓得怎么定义样式或者移动位置
                title:{
                    text:'腾讯视频《在一起》评论词云图'
                },
                tooltip: {},

                series: [ {
                    type: 'wordCloud',
                    gridSize: 2,
                    sizeRange: [12, 50],
                    rotationRange: [-90, 90],
                    shape: 'pentagon',
                    width: 600,
                    height: 400,
                    drawOutOfBound: true,
                    textStyle: {
                        color: function () {
                            return 'rgb(' + [
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160),
                                Math.round(Math.random() * 160)
                            ].join(',') + ')';
                        }
                    },
                    emphasis: {
                        textStyle: {
                            shadowBlur: 10,
                            shadowColor: '#333'
                        }
                    },
                    // 把data空出来，使用Ajax从本地json中加载数据
                    data: []
                } ]
            };
            chart.setOption(option);
            window.onresize = chart.resize;
            console.log('准备执行ajax');

            // $.ajax({
            //     // 本地的就写本地的位置，如果是服务器的就写服务器的路径
            //     url:'resultData.json',
            //     type:'get',  //获取数据方式为get
            //     dataType:'json', //数据类型为json

            //     success: function(data){
            //         //请求成功后在页面加载时执行函数
            //         window.onload = function(){
            //             console.log("函数执行成功");
            //             var keyWordlist = [];
            //             for (var i = 0; i < data.length; i++) {
            //                 keyWordlist.push({
            //                     name: data[i].name,
            //                     value: data[i].value
            //                 })
            //             }
            //             // 将数据加载到事先设置好的变量data[]
            //             chart.setOption({
            //                 series:[{
            //                     type: 'wordCloud',
            //                     data: keyWordlist,
            //                 }]
            //             });
            //         }

            //     }

            // });
            
        </script>
    </body>
</html>